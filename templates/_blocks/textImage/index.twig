{% import "_macros/image" as _image %}

{# Required #}
{% set heading = block.heading %} {# Plain Text #}
{% set copy = block.copy %} {# Plain Text #}
{% set highlightedCopy = block.highlightedCopy %} {# Plain Text #}
{% set subheadingCopy = block.label %} {# Plain Text #}
{% set image = block.image %} {# Assets #}

{# Optional #}
{% set eyebrow = block.eyebrow ?? '' %} {# Plain Text #}
{% set subheading = block.subheading ?? '' %} {# Plain Text #}

<section class="bg-gray-800{{ block.lightswitch ? ' pt-8 pb-16' : ' py-24' }}">
  <div class="container">
    {% if highlightedCopy %}
      <div class="layout-grid items-left">
        <div class="col-span-full flex flex-col items-start">
          <div class="text-highlighted pt-0 pb-0 mt-0 mb-0">{{ highlightedCopy|nl2br }}</div>
        </div>
      </div>
    {% endif %}
    <div class="layout-grid items-center gap-y-12">
      <div class="col-span-full lg:col-span-7 order-2 lg:order-none flex flex-col items-start gap-[18px]">
        {% if eyebrow %}
          <div class="t-eyebrow">{{ eyebrow }}</div>
        {% endif %}
        {% if heading %}
          <h2 class="t-h2">{{ heading }}</h2>
        {% endif %}
        {% if subheadingCopy %}
         <h3 class="t-h3">{{ subheadingCopy }}</h3>
        {% endif %}
        {% if copy %}
          <div class="text-xl">{{ copy|nl2br }}</div>
        {% endif %}
      </div>
      {% if image %}
        <div class="col-span-full lg:col-span-4 lg:col-start-8 order-1 lg:order-none animate-image-container">
          <div class="wrapper aspect-[450/484] overflow-hidden">
            {{ _image.tag( image.one ?? null, null,
              { width: 450, height: 484, mode: 'crop' },
              "w-full h-full object-cover" ) }}
          </div>

          {% if subheading %}
            <div class="mt-2.5 text-sm text-gray-200 font-semibold image-caption">{{ subheading }}</div>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
</section>
